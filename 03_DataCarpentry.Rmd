# Introduction to Data Carpentry

Data carpentry gives us the tools to work with large data sets. During this chapter you will learn basic concepts, skills to help you work with functions to help tidy and manage your data. 



## tidyverse

The package `tidyverse` is what we will be using for most of our data carpentry. `tidyverse` is a larger package which includes several packages useful for dealing with data such as `tidyr`, `dplyr`, `ggplot2`, and more. 

All of these packages work together to manipulate, reshape, and visual data. 

Before using `tidyverse` you will need to install and load the package. 

You will only need to install a package once, but will have to load a library on every script you plan to use it. 

```{r, eval=FALSE}
install.package(tidyverse) #install


```

From the `tidyverse` package `rread` we can read in our data.

```{r}
library(tidyverse) #load
df <- read_csv("data/bloodwork.csv")

```

df is the name of our new dataframe, which will include all data from the bloodwork.csv file. 

Before we can work with our data we need to what we have to work with using the functions `head()` and `tail()` allows you to see the first and last 6 rows, respectfully. 

```{r}
head(df)
```

```{r}
tail(df)
```

should we explain the dataset?? idk 

## filter()
Use %>% and 'filter' to only keep rows where the hrate, heart rate, is over 85. > means greater than.

```{r} 
df %>% 
  filter(hrate > 85)
```


Or use %>% and 'filter' to only keep rows where the sex is equal to female.
```{r} 
df %>% 
  filter(sex == "female")
```

You can create new datasets from filtered data.

```{r} 
female <- df %>% 
  filter(sex == "female")
```


## select()
Use %>% then `select` to just select the rows you want.

```{r}
df %>%  
  select(ids, sex, smoker,hrate)
```

Or if you just want to get rid of one column you can just use %>% then `select(-var)`

```{r}
df %>% select(-bpsyst)
```

if you want these selections to be permanent then you need to rewrite selections in new dataframe. 

```{r}
df1 <- df %>%  select(-bpsyst)
```


## arrange()

blah

## mutate()

Create new columns using %>% then `mutate`

``` {r}
df2 <- df %>% 
  mutate(totalimmune = immuncount + immuncount2)

```
Now df2 will have 12 columns, instead of 11. 

## Wide vs Long Data

blah

`pivot_wide()`  `pivot_long()`



## Joins

really important....  maybe one day we'll write about this