<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Introduction to Data Carpentry | PSY317L Guides</title>
  <meta name="description" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  
  
  

<meta name="author" content="James P. Curley &amp; Tyler M. Milewski" />


<meta name="date" content="2020-06-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-syntax.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to PSY317!</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-this-book-includes-and-what-it-doesnt"><i class="fa fa-check"></i><b>1.1</b> What this book includes and what it doesn't</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-use-this-guide"><i class="fa fa-check"></i><b>1.2</b> How to use this guide</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.4</b> References</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#other-places-to-find-help-about-r"><i class="fa fa-check"></i><b>1.5</b> Other places to find help about R</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#other-places-to-find-help-about-r-and-statistics"><i class="fa fa-check"></i><b>1.6</b> Other places to find help about R and Statistics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#downloading-r"><i class="fa fa-check"></i><b>2.2</b> Downloading R</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#downloading-rstudio"><i class="fa fa-check"></i><b>2.3</b> Downloading RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#using-rcloud-instead-of-rstudio"><i class="fa fa-check"></i><b>2.4</b> Using RCloud instead of RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#importing-data"><i class="fa fa-check"></i><b>2.5</b> Importing Data</a></li>
<li class="chapter" data-level="2.6" data-path="introduction.html"><a href="introduction.html#the-rstudio-environment"><i class="fa fa-check"></i><b>2.6</b> The RStudio Environment</a></li>
<li class="chapter" data-level="2.7" data-path="introduction.html"><a href="introduction.html#the-command-prompt"><i class="fa fa-check"></i><b>2.7</b> The Command Prompt</a></li>
<li class="chapter" data-level="2.8" data-path="introduction.html"><a href="introduction.html#what-is-an-rscript-file"><i class="fa fa-check"></i><b>2.8</b> What is an RScript File?</a></li>
<li class="chapter" data-level="2.9" data-path="introduction.html"><a href="introduction.html#what-do-the-buttons-do"><i class="fa fa-check"></i><b>2.9</b> What do the buttons do?</a></li>
<li class="chapter" data-level="2.10" data-path="introduction.html"><a href="introduction.html#the-plots-tab"><i class="fa fa-check"></i><b>2.10</b> The Plots tab</a></li>
<li class="chapter" data-level="2.11" data-path="introduction.html"><a href="introduction.html#what-are-packages"><i class="fa fa-check"></i><b>2.11</b> What are Packages</a></li>
<li class="chapter" data-level="2.12" data-path="introduction.html"><a href="introduction.html#saving-scripts-etc."><i class="fa fa-check"></i><b>2.12</b> Saving Scripts etc.</a></li>
<li class="chapter" data-level="2.13" data-path="introduction.html"><a href="introduction.html#project-folders-and-working-directories"><i class="fa fa-check"></i><b>2.13</b> Project Folders and Working Directories</a></li>
<li class="chapter" data-level="2.14" data-path="introduction.html"><a href="introduction.html#where-to-get-help-for-r-stuff"><i class="fa fa-check"></i><b>2.14</b> Where to Get Help for R stuff</a></li>
<li class="chapter" data-level="2.15" data-path="introduction.html"><a href="introduction.html#quitting-r"><i class="fa fa-check"></i><b>2.15</b> Quitting R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-syntax.html"><a href="basic-syntax.html"><i class="fa fa-check"></i><b>3</b> Basic Syntax</a><ul>
<li class="chapter" data-level="3.1" data-path="basic-syntax.html"><a href="basic-syntax.html#boring-mathematical-stuff"><i class="fa fa-check"></i><b>3.1</b> Boring mathematical stuff</a></li>
<li class="chapter" data-level="3.2" data-path="basic-syntax.html"><a href="basic-syntax.html#assignment"><i class="fa fa-check"></i><b>3.2</b> assignment</a></li>
<li class="chapter" data-level="3.3" data-path="basic-syntax.html"><a href="basic-syntax.html#vectors"><i class="fa fa-check"></i><b>3.3</b> vectors</a></li>
<li class="chapter" data-level="3.4" data-path="basic-syntax.html"><a href="basic-syntax.html#characters"><i class="fa fa-check"></i><b>3.4</b> Characters</a></li>
<li class="chapter" data-level="3.5" data-path="basic-syntax.html"><a href="basic-syntax.html#naming-of-objects"><i class="fa fa-check"></i><b>3.5</b> Naming of objects</a></li>
<li class="chapter" data-level="3.6" data-path="basic-syntax.html"><a href="basic-syntax.html#logical-operators"><i class="fa fa-check"></i><b>3.6</b> Logical Operators</a></li>
<li class="chapter" data-level="3.7" data-path="basic-syntax.html"><a href="basic-syntax.html#some-things-that-are-useful-to-know."><i class="fa fa-check"></i><b>3.7</b> Some things that are useful to know.</a><ul>
<li class="chapter" data-level="3.7.1" data-path="basic-syntax.html"><a href="basic-syntax.html#tab-is-your-friend"><i class="fa fa-check"></i><b>3.7.1</b> Tab is your friend</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="basic-syntax.html"><a href="basic-syntax.html#error-messages"><i class="fa fa-check"></i><b>3.8</b> Error Messages</a></li>
<li class="chapter" data-level="3.9" data-path="basic-syntax.html"><a href="basic-syntax.html#functions"><i class="fa fa-check"></i><b>3.9</b> Functions</a></li>
<li class="chapter" data-level="3.10" data-path="basic-syntax.html"><a href="basic-syntax.html#chaining-syntax"><i class="fa fa-check"></i><b>3.10</b> Chaining Syntax</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html"><i class="fa fa-check"></i><b>4</b> Introduction to Data Carpentry</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#introduction-to-dataframes"><i class="fa fa-check"></i><b>4.1</b> Introduction to Dataframes</a></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#tidyverse"><i class="fa fa-check"></i><b>4.2</b> tidyverse</a></li>
<li class="chapter" data-level="4.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#filter"><i class="fa fa-check"></i><b>4.3</b> filter()</a></li>
<li class="chapter" data-level="4.4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#select"><i class="fa fa-check"></i><b>4.4</b> select()</a></li>
<li class="chapter" data-level="4.5" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#mutate"><i class="fa fa-check"></i><b>4.5</b> mutate()</a></li>
<li class="chapter" data-level="4.6" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#arrange"><i class="fa fa-check"></i><b>4.6</b> arrange()</a></li>
<li class="chapter" data-level="4.7" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#wide-vs-long-data"><i class="fa fa-check"></i><b>4.7</b> Wide vs Long Data</a></li>
<li class="chapter" data-level="4.8" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#joins"><i class="fa fa-check"></i><b>4.8</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> Data Visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#intro-to-ggplot2"><i class="fa fa-check"></i><b>5.1</b> Intro to ggplot2</a></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#histogram"><i class="fa fa-check"></i><b>5.2</b> Histogram</a></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#scatter"><i class="fa fa-check"></i><b>5.3</b> Scatter</a></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#line"><i class="fa fa-check"></i><b>5.4</b> Line</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="descriptives.html"><a href="descriptives.html"><i class="fa fa-check"></i><b>6</b> Descriptives</a><ul>
<li class="chapter" data-level="6.1" data-path="descriptives.html"><a href="descriptives.html#basic-descriptives"><i class="fa fa-check"></i><b>6.1</b> Basic Descriptives</a></li>
<li class="chapter" data-level="6.2" data-path="descriptives.html"><a href="descriptives.html#mean-median-and-mode"><i class="fa fa-check"></i><b>6.2</b> Mean, Median, and Mode</a></li>
<li class="chapter" data-level="6.3" data-path="descriptives.html"><a href="descriptives.html#standard-deviation"><i class="fa fa-check"></i><b>6.3</b> Standard Deviation</a></li>
<li class="chapter" data-level="6.4" data-path="descriptives.html"><a href="descriptives.html#standard-error"><i class="fa fa-check"></i><b>6.4</b> Standard Error</a></li>
<li class="chapter" data-level="6.5" data-path="descriptives.html"><a href="descriptives.html#inter-quartile-ranges"><i class="fa fa-check"></i><b>6.5</b> Inter-quartile Ranges</a></li>
<li class="chapter" data-level="6.6" data-path="descriptives.html"><a href="descriptives.html#descriptives-for-groups"><i class="fa fa-check"></i><b>6.6</b> Descriptives for Groups</a></li>
<li class="chapter" data-level="6.7" data-path="descriptives.html"><a href="descriptives.html#comparing-population-and-sample-means"><i class="fa fa-check"></i><b>6.7</b> Comparing population and sample means</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>7</b> Distributions</a><ul>
<li class="chapter" data-level="7.1" data-path="distributions.html"><a href="distributions.html#what-is-a-distribution"><i class="fa fa-check"></i><b>7.1</b> What is a distribution ?</a><ul>
<li class="chapter" data-level="7.1.1" data-path="distributions.html"><a href="distributions.html#uniform-distribution"><i class="fa fa-check"></i><b>7.1.1</b> Uniform Distribution</a></li>
<li class="chapter" data-level="7.1.2" data-path="distributions.html"><a href="distributions.html#bimodal-distribution"><i class="fa fa-check"></i><b>7.1.2</b> Bimodal Distribution</a></li>
<li class="chapter" data-level="7.1.3" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>7.1.3</b> Normal Distribution</a></li>
<li class="chapter" data-level="7.1.4" data-path="distributions.html"><a href="distributions.html#standard-normal-distribution"><i class="fa fa-check"></i><b>7.1.4</b> Standard Normal Distribution</a></li>
<li class="chapter" data-level="7.1.5" data-path="distributions.html"><a href="distributions.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>7.1.5</b> Skewness and Kurtosis</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="distributions.html"><a href="distributions.html#z-scores"><i class="fa fa-check"></i><b>7.2</b> z-scores</a><ul>
<li class="chapter" data-level="7.2.1" data-path="distributions.html"><a href="distributions.html#z-scores-in-samples."><i class="fa fa-check"></i><b>7.2.1</b> z-scores in samples.</a></li>
<li class="chapter" data-level="7.2.2" data-path="distributions.html"><a href="distributions.html#using-z-scores-to-determine-probabilities"><i class="fa fa-check"></i><b>7.2.2</b> Using z-scores to determine probabilities</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="distributions.html"><a href="distributions.html#what-is-a-sampling-distribution"><i class="fa fa-check"></i><b>7.3</b> What is a Sampling Distribution ?</a><ul>
<li class="chapter" data-level="7.3.1" data-path="distributions.html"><a href="distributions.html#sample-size-and-the-sampling-distribution"><i class="fa fa-check"></i><b>7.3.1</b> Sample Size and the Sampling Distribution</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="distributions.html"><a href="distributions.html#central-limit-theorem."><i class="fa fa-check"></i><b>7.4</b> Central Limit Theorem.</a></li>
<li class="chapter" data-level="7.5" data-path="distributions.html"><a href="distributions.html#sampling-distribution-problems."><i class="fa fa-check"></i><b>7.5</b> Sampling distribution problems.</a></li>
<li class="chapter" data-level="7.6" data-path="distributions.html"><a href="distributions.html#the-t-distribution"><i class="fa fa-check"></i><b>7.6</b> The t-distribution</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>8</b> Confidence Intervals</a></li>
<li class="chapter" data-level="9" data-path="inferential-stats.html"><a href="inferential-stats.html"><i class="fa fa-check"></i><b>9</b> Inferential Stats</a><ul>
<li class="chapter" data-level="9.1" data-path="inferential-stats.html"><a href="inferential-stats.html#comparing-two-samples"><i class="fa fa-check"></i><b>9.1</b> Comparing two Samples</a></li>
<li class="chapter" data-level="9.2" data-path="inferential-stats.html"><a href="inferential-stats.html#independent-samples-t-test"><i class="fa fa-check"></i><b>9.2</b> Independent Samples t-test</a></li>
<li class="chapter" data-level="9.3" data-path="inferential-stats.html"><a href="inferential-stats.html#background-to-students-2-sample-t-test"><i class="fa fa-check"></i><b>9.3</b> Background to Student's 2 Sample t-test</a></li>
<li class="chapter" data-level="9.4" data-path="inferential-stats.html"><a href="inferential-stats.html#sampling-distribution-of-the-difference-in-sample-means"><i class="fa fa-check"></i><b>9.4</b> Sampling Distribution of the Difference in Sample Means</a></li>
<li class="chapter" data-level="9.5" data-path="inferential-stats.html"><a href="inferential-stats.html#pooled-standard-deviation"><i class="fa fa-check"></i><b>9.5</b> Pooled Standard Deviation</a></li>
<li class="chapter" data-level="9.6" data-path="inferential-stats.html"><a href="inferential-stats.html#confidence-interval-for-difference-in-means"><i class="fa fa-check"></i><b>9.6</b> Confidence Interval for Difference in Means</a></li>
<li class="chapter" data-level="9.7" data-path="inferential-stats.html"><a href="inferential-stats.html#conducting-student-t-test"><i class="fa fa-check"></i><b>9.7</b> Conducting Student t-test</a></li>
<li class="chapter" data-level="9.8" data-path="inferential-stats.html"><a href="inferential-stats.html#doing-student-t-test-in-r"><i class="fa fa-check"></i><b>9.8</b> Doing Student t-test in R</a></li>
<li class="chapter" data-level="9.9" data-path="inferential-stats.html"><a href="inferential-stats.html#effect-sizes"><i class="fa fa-check"></i><b>9.9</b> Effect Sizes</a></li>
<li class="chapter" data-level="9.10" data-path="inferential-stats.html"><a href="inferential-stats.html#paired-t-tests"><i class="fa fa-check"></i><b>9.10</b> Paired t-tests</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>10</b> Correlation</a><ul>
<li class="chapter" data-level="10.1" data-path="correlation.html"><a href="correlation.html#pearson-correlation"><i class="fa fa-check"></i><b>10.1</b> Pearson Correlation</a></li>
<li class="chapter" data-level="10.2" data-path="correlation.html"><a href="correlation.html#calculating-the-pearson-correlation-in-r"><i class="fa fa-check"></i><b>10.2</b> Calculating the Pearson Correlation in R</a></li>
<li class="chapter" data-level="10.3" data-path="correlation.html"><a href="correlation.html#cross-products"><i class="fa fa-check"></i><b>10.3</b> Cross-products</a></li>
<li class="chapter" data-level="10.4" data-path="correlation.html"><a href="correlation.html#conducting-a-pearson-correlation-test"><i class="fa fa-check"></i><b>10.4</b> Conducting a Pearson Correlation Test</a></li>
<li class="chapter" data-level="10.5" data-path="correlation.html"><a href="correlation.html#assumptions-of-pearsons-correlation"><i class="fa fa-check"></i><b>10.5</b> Assumptions of Pearson's Correlation</a></li>
<li class="chapter" data-level="10.6" data-path="correlation.html"><a href="correlation.html#confidence-intervals-for-r"><i class="fa fa-check"></i><b>10.6</b> Confidence Intervals for R</a></li>
<li class="chapter" data-level="10.7" data-path="correlation.html"><a href="correlation.html#partial-correlations"><i class="fa fa-check"></i><b>10.7</b> Partial Correlations</a></li>
<li class="chapter" data-level="10.8" data-path="correlation.html"><a href="correlation.html#non-parametric-correlations"><i class="fa fa-check"></i><b>10.8</b> Non-parametric Correlations</a></li>
<li class="chapter" data-level="10.9" data-path="correlation.html"><a href="correlation.html#point-biserial-correlation"><i class="fa fa-check"></i><b>10.9</b> Point-Biserial Correlation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>11</b> Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="regression.html"><a href="regression.html#introduction-to-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Introduction to Linear Regression</a></li>
<li class="chapter" data-level="11.2" data-path="regression.html"><a href="regression.html#a-and-b"><i class="fa fa-check"></i><b>11.2</b> a and b</a><ul>
<li class="chapter" data-level="11.2.1" data-path="regression.html"><a href="regression.html#how-to-calculate-a-and-b-in-r"><i class="fa fa-check"></i><b>11.2.1</b> How to calculate a and b in R</a></li>
<li class="chapter" data-level="11.2.2" data-path="regression.html"><a href="regression.html#how-to-calculate-a-and-b-by-hand"><i class="fa fa-check"></i><b>11.2.2</b> How to calculate a and b 'by hand'</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="regression.html"><a href="regression.html#residuals"><i class="fa fa-check"></i><b>11.3</b> Residuals</a><ul>
<li class="chapter" data-level="11.3.1" data-path="regression.html"><a href="regression.html#how-to-calculate-the-residuals"><i class="fa fa-check"></i><b>11.3.1</b> How to calculate the residuals</a></li>
<li class="chapter" data-level="11.3.2" data-path="regression.html"><a href="regression.html#visualizing-the-residuals"><i class="fa fa-check"></i><b>11.3.2</b> Visualizing the Residuals</a></li>
<li class="chapter" data-level="11.3.3" data-path="regression.html"><a href="regression.html#comparing-our-trendline-to-other-trendlines"><i class="fa fa-check"></i><b>11.3.3</b> Comparing our trendline to other trendlines</a></li>
<li class="chapter" data-level="11.3.4" data-path="regression.html"><a href="regression.html#coefficient-of-determination-r2"><i class="fa fa-check"></i><b>11.3.4</b> Coefficient of Determination R2</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="regression.html"><a href="regression.html#standard-error-of-the-estimate"><i class="fa fa-check"></i><b>11.4</b> Standard Error of the Estimate</a><ul>
<li class="chapter" data-level="11.4.1" data-path="regression.html"><a href="regression.html#what-to-do-with-the-standard-error-of-the-estimate"><i class="fa fa-check"></i><b>11.4.1</b> What to do with the Standard Error of the Estimate ?</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="regression.html"><a href="regression.html#goodness-of-fit-test---f-ratio"><i class="fa fa-check"></i><b>11.5</b> Goodness of Fit Test - F-ratio</a></li>
<li class="chapter" data-level="11.6" data-path="regression.html"><a href="regression.html#assumptions-of-linear-regression"><i class="fa fa-check"></i><b>11.6</b> Assumptions of Linear Regression</a><ul>
<li class="chapter" data-level="11.6.1" data-path="regression.html"><a href="regression.html#normality-of-residuals"><i class="fa fa-check"></i><b>11.6.1</b> Normality of Residuals</a></li>
<li class="chapter" data-level="11.6.2" data-path="regression.html"><a href="regression.html#linearity----"><i class="fa fa-check"></i><b>11.6.2</b> 2. Linearity ---</a></li>
<li class="chapter" data-level="11.6.3" data-path="regression.html"><a href="regression.html#homogeneity-of-variance-homoscedasticity"><i class="fa fa-check"></i><b>11.6.3</b> 3. Homogeneity of Variance / Homoscedasticity</a></li>
<li class="chapter" data-level="11.6.4" data-path="regression.html"><a href="regression.html#no-colinearity"><i class="fa fa-check"></i><b>11.6.4</b> No Colinearity</a></li>
<li class="chapter" data-level="11.6.5" data-path="regression.html"><a href="regression.html#unusual-datapoints"><i class="fa fa-check"></i><b>11.6.5</b> Unusual Datapoints</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="regression.html"><a href="regression.html#examining-individual-predictor-estimates"><i class="fa fa-check"></i><b>11.7</b> Examining individual predictor estimates</a><ul>
<li class="chapter" data-level="11.7.1" data-path="regression.html"><a href="regression.html#confidence-interval-of-b."><i class="fa fa-check"></i><b>11.7.1</b> 95% confidence interval of 'b'.</a></li>
<li class="chapter" data-level="11.7.2" data-path="regression.html"><a href="regression.html#standard-error-of-b"><i class="fa fa-check"></i><b>11.7.2</b> Standard Error of b</a></li>
<li class="chapter" data-level="11.7.3" data-path="regression.html"><a href="regression.html#calculating-95-confidence-interval-of-b-by-hand"><i class="fa fa-check"></i><b>11.7.3</b> Calculating 95% confidence interval of 'b' by hand</a></li>
<li class="chapter" data-level="11.7.4" data-path="regression.html"><a href="regression.html#signifcance-testing-b"><i class="fa fa-check"></i><b>11.7.4</b> Signifcance Testing b</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="permutation-testing.html"><a href="permutation-testing.html"><i class="fa fa-check"></i><b>12</b> Permutation Testing</a><ul>
<li class="chapter" data-level="12.1" data-path="permutation-testing.html"><a href="permutation-testing.html#t-test-permutation"><i class="fa fa-check"></i><b>12.1</b> t-test Permutation</a></li>
<li class="chapter" data-level="12.2" data-path="permutation-testing.html"><a href="permutation-testing.html#correlation-coefficient-permutation-tests"><i class="fa fa-check"></i><b>12.2</b> Correlation Coefficient Permutation Tests</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSY317L Guides</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-data-carpentry" class="section level1">
<h1><span class="header-section-number">4</span> Introduction to Data Carpentry</h1>
<p>Data carpentry gives us the tools to work with large data sets. During this chapter you will learn basic concepts, skills to help you work with functions to help tidy and manage your data.</p>
<div id="introduction-to-dataframes" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction to Dataframes</h2>
<p>we should introduce what a dataframe is here.</p>
<p>Things to know before beginning the chapter:</p>
<p>filter() - subsetting data</p>
<p>select() - selecting columns</p>
<p>arrange() - sorting a column</p>
<p>mutate() - adding a new column</p>
<p>%&gt;% means &quot;and next do this&quot;</p>
<p>== means &quot;is equal to&quot;</p>
<p>!= means &quot;is not equal to&quot;</p>
<p> means &quot;or&quot;</p>
</div>
<div id="tidyverse" class="section level2">
<h2><span class="header-section-number">4.2</span> tidyverse</h2>
<p>The package <code>tidyverse</code> is what we will be using for most of our data carpentry. <code>tidyverse</code> is a larger package which includes several packages useful for dealing with data such as <code>tidyr</code>, <code>dplyr</code>, <code>ggplot2</code>, and more.</p>
<p>All of these packages work together to manipulate, reshape, and visual data.</p>
<p>Before using <code>tidyverse</code> you will need to install and load the package.</p>
<p>You will only need to install a package once, but will have to load a library on every script you plan to use it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.package</span>(tidyverse) <span class="co">#install</span></code></pre></div>
<p>From the <code>tidyverse</code> package <code>rread</code> we can read in our data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse) <span class="co">#load</span>
bw &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/bloodwork.csv&quot;</span>)</code></pre></div>
<p>bw is the name of our new dataframe, which will include all data from the bloodwork.csv file.</p>
<p>Before we can work with our data we need to what we have to work with using the functions <code>head()</code> and <code>tail()</code> allows you to see the first and last 6 rows, respectfully.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(bw) <span class="co"># first 6 lines </span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
## 2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
## 3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
## 4 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
## 5 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
## 6 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(bw) <span class="co">#last 6 lines</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JIB      66 fema~ NY           0 no        62    121     0.097      1.39 
## 2 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 3 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 4 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## 5 HHJ      69 male  CT           2 no        71    121     0.475      0.463
## 6 CCG      70 male  CT           0 yes       80    132     0.078      1.06 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>should we explain the dataset?? idk</p>
<p><code>table()</code> summarizes categorical variables.</p>
<p>table(bw<span class="math inline">\(sex) table(bw\)</span>children) table(bw<span class="math inline">\(sex, bw\)</span>children)</p>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">4.3</span> filter()</h2>
<p>Use %&gt;% and 'filter' to only keep rows where the hrate, heart rate, is over 60. &gt; means greater than.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(hrate &gt;<span class="st"> </span><span class="dv">60</span>)</code></pre></div>
<pre><code>## # A tibble: 30 x 11
##    ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
##  2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
##  3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
##  4 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
##  5 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
##  6 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
##  7 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
##  8 BED      28 fema~ CT           0 no        62    104     0.082      1.18 
##  9 BFB      28 fema~ NJ           0 no        68    118     0.197      0.724
## 10 IEA      29 fema~ CT           0 yes       74    117     0.429      5.15 
## # ... with 20 more rows, and 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>Use %&gt;% and 'filter' to only keep rows where the sex is equal to female.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(sex ==<span class="st"> &quot;female&quot;</span>)</code></pre></div>
<pre><code>## # A tibble: 18 x 11
##    ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
##  2 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
##  3 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
##  4 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
##  5 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
##  6 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
##  7 BED      28 fema~ CT           0 no        62    104     0.082      1.18 
##  8 BFB      28 fema~ NJ           0 no        68    118     0.197      0.724
##  9 IEA      29 fema~ CT           0 yes       74    117     0.429      5.15 
## 10 CDC      38 fema~ NJ           0 no        66    133     0.038      8.00 
## 11 FJG      40 fema~ NJ           0 yes       80    109     0.253      5.63 
## 12 DAG      41 fema~ CT           0 yes       70    142     0.339      5.52 
## 13 FHA      53 fema~ CT           2 no        77    125     0.099      0.034
## 14 JHC      55 fema~ CT           0 no        73    121     0.093      1.32 
## 15 JIB      66 fema~ NY           0 no        62    121     0.097      1.39 
## 16 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 17 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 18 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>You can filter to only include, certain rows, such as state as &quot;NJ&quot; or &quot;NY&quot; in the bloodwork dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(state ==<span class="st"> &quot;NJ&quot;</span>  |<span class="st">  </span>state ==<span class="st"> &quot;NY&quot;</span>)</code></pre></div>
<pre><code>## # A tibble: 18 x 11
##    ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
##  2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
##  3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
##  4 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
##  5 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
##  6 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
##  7 BFB      28 fema~ NJ           0 no        68    118     0.197      0.724
##  8 ACC      33 male  NJ           1 no        63    131     0.065      4.66 
##  9 CDC      38 fema~ NJ           0 no        66    133     0.038      8.00 
## 10 EEB      39 male  NJ           1 no        68    104     0.594      3.06 
## 11 FJG      40 fema~ NJ           0 yes       80    109     0.253      5.63 
## 12 AGC      43 male  NY           1 yes       77    108     0.072      1.44 
## 13 FGD      50 male  NY           0 yes       77    147     0.428      0.037
## 14 JCI      52 male  NY           1 yes       61    115     0.131      0.233
## 15 JIB      66 fema~ NY           0 no        62    121     0.097      1.39 
## 16 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 17 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 18 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>You can filter several variables at one time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>( sex ==<span class="st"> &quot;female&quot;</span>, hrate &gt;<span class="st"> </span><span class="dv">60</span>, children !=<span class="st"> &quot;0&quot;</span> )</code></pre></div>
<pre><code>## # A tibble: 8 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
## 2 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
## 3 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
## 4 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
## 5 FHA      53 fema~ CT           2 no        77    125     0.099      0.034
## 6 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 7 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 8 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>You can create new datasets from filtered data by creating a new object</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">female &lt;-<span class="st"> </span>bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>( sex ==<span class="st"> &quot;female&quot;</span>, hrate &gt;<span class="st"> </span><span class="dv">60</span>, children !=<span class="st"> &quot;0&quot;</span> )</code></pre></div>
</div>
<div id="select" class="section level2">
<h2><span class="header-section-number">4.4</span> select()</h2>
<p>Use %&gt;% then <code>select</code> to just select the rows you want.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(ids, sex, smoker,hrate,children)</code></pre></div>
<pre><code>## # A tibble: 30 x 5
##    ids   sex    smoker hrate children
##    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt;    &lt;int&gt;
##  1 JEC   female no        63        1
##  2 GBH   male   yes       73        1
##  3 EDH   female no        65        0
##  4 AAA   female no        66        3
##  5 AJF   female no        67        0
##  6 FJC   female yes       80        1
##  7 IEE   female no        71        2
##  8 BED   female no        62        0
##  9 BFB   female no        68        0
## 10 IEA   female yes       74        0
## # ... with 20 more rows</code></pre>
<p>Or if you just want to get rid of one column you can just use %&gt;% then <code>select(-var)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span><span class="kw">select</span>(-children, -bpsyst)</code></pre></div>
<pre><code>## # A tibble: 30 x 9
##    ids     age sex    state smoker hrate cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ    no        63     0.126      0.993       0.921
##  2 GBH      20 male   NY    yes       73     0.169      1.18        1.19 
##  3 EDH      21 female NJ    no        65     0.281      4.34        3.21 
##  4 AAA      21 female CT    no        66     0.244      2.56        4.01 
##  5 AJF      24 female NJ    no        67     0.092      6.45        9.13 
##  6 FJC      25 female NY    yes       80     0.014      3.97        2.85 
##  7 IEE      26 female NY    no        71     0.093      5.41       10.2  
##  8 BED      28 female CT    no        62     0.082      1.18        0.788
##  9 BFB      28 female NJ    no        68     0.197      0.724       0.848
## 10 IEA      29 female CT    yes       74     0.429      5.15        4.97 
## # ... with 20 more rows</code></pre>
<p>You can rename columns as you go</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span><span class="kw">select</span>(<span class="dt">subject =</span> ids, <span class="dt">gender =</span> sex, smoker,hrate,children)</code></pre></div>
<pre><code>## # A tibble: 30 x 5
##    subject gender smoker hrate children
##    &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt;    &lt;int&gt;
##  1 JEC     female no        63        1
##  2 GBH     male   yes       73        1
##  3 EDH     female no        65        0
##  4 AAA     female no        66        3
##  5 AJF     female no        67        0
##  6 FJC     female yes       80        1
##  7 IEE     female no        71        2
##  8 BED     female no        62        0
##  9 BFB     female no        68        0
## 10 IEA     female yes       74        0
## # ... with 20 more rows</code></pre>
<p>if you want these selections to be permanent then you need to rewrite selections in new dataframe. See the difference between bw and bw1</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw1 &lt;-<span class="st"> </span>bw %&gt;%<span class="st">  </span>
<span class="st">  </span><span class="kw">select</span>(<span class="dt">subject =</span> ids, <span class="dt">gender =</span> sex, smoker,hrate,children)
<span class="kw">head</span>(bw)</code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
## 2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
## 3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
## 4 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
## 5 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
## 6 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(bw1)</code></pre></div>
<pre><code>## # A tibble: 6 x 5
##   subject gender smoker hrate children
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt;    &lt;int&gt;
## 1 JEC     female no        63        1
## 2 GBH     male   yes       73        1
## 3 EDH     female no        65        0
## 4 AAA     female no        66        3
## 5 AJF     female no        67        0
## 6 FJC     female yes       80        1</code></pre>
<p>If you just want to use the column number, you can do that too!</p>
<p>The code below selects for column 1-4, 9, 10, but does not save the information as a new object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span><span class="kw">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">10</span>)</code></pre></div>
<pre><code>## # A tibble: 30 x 6
##    ids     age sex    state cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 female NJ        0.126      0.993
##  2 GBH      20 male   NY        0.169      1.18 
##  3 EDH      21 female NJ        0.281      4.34 
##  4 AAA      21 female CT        0.244      2.56 
##  5 AJF      24 female NJ        0.092      6.45 
##  6 FJC      25 female NY        0.014      3.97 
##  7 IEE      26 female NY        0.093      5.41 
##  8 BED      28 female CT        0.082      1.18 
##  9 BFB      28 female NJ        0.197      0.724
## 10 IEA      29 female CT        0.429      5.15 
## # ... with 20 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span><span class="kw">select</span>(<span class="dv">1</span>:<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">10</span>)</code></pre></div>
<pre><code>## # A tibble: 30 x 6
##    ids     age sex    state cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 female NJ        0.126      0.993
##  2 GBH      20 male   NY        0.169      1.18 
##  3 EDH      21 female NJ        0.281      4.34 
##  4 AAA      21 female CT        0.244      2.56 
##  5 AJF      24 female NJ        0.092      6.45 
##  6 FJC      25 female NY        0.014      3.97 
##  7 IEE      26 female NY        0.093      5.41 
##  8 BED      28 female CT        0.082      1.18 
##  9 BFB      28 female NJ        0.197      0.724
## 10 IEA      29 female CT        0.429      5.15 
## # ... with 20 more rows</code></pre>
</div>
<div id="mutate" class="section level2">
<h2><span class="header-section-number">4.5</span> mutate()</h2>
<p>Create new columns using %&gt;% then <code>mutate</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">totalimmune =</span> immuncount +<span class="st"> </span>immuncount2)</code></pre></div>
<pre><code>## # A tibble: 30 x 12
##    ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##    &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;  &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
##  2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
##  3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
##  4 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
##  5 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
##  6 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
##  7 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
##  8 BED      28 fema~ CT           0 no        62    104     0.082      1.18 
##  9 BFB      28 fema~ NJ           0 no        68    118     0.197      0.724
## 10 IEA      29 fema~ CT           0 yes       74    117     0.429      5.15 
## # ... with 20 more rows, and 2 more variables: immuncount2 &lt;dbl&gt;,
## #   totalimmune &lt;dbl&gt;</code></pre>
<p>Saving new column in a new data frame. Now, bw2 will have 12 columns, instead of 11.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw2 &lt;-<span class="st"> </span>bw %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">totalimmune =</span> immuncount +<span class="st"> </span>immuncount2)</code></pre></div>
<p>You can also create new columns without <code>tidyverse</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bw$totalimmune &lt;-<span class="st"> </span>bw$immuncount +<span class="st"> </span>bw$immuncount2</code></pre></div>
<p>Now bw and bw2 are the same.</p>
</div>
<div id="arrange" class="section level2">
<h2><span class="header-section-number">4.6</span> arrange()</h2>
<p>Lets try another example!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/pga.csv&quot;</span>)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_integer(),
##   drivepct = col_double(),
##   name = col_character(),
##   driveavg = col_double(),
##   girpct = col_double(),
##   goforgreenpct = col_double(),
##   sandsavepct = col_double(),
##   scramblingpct = col_double(),
##   threeputtpct = col_double(),
##   oneputtpct = col_double(),
##   putts.avg = col_double(),
##   birdiepct = col_double(),
##   score.avg = col_double(),
##   birdiebogieratio = col_double(),
##   par3.birdiepct = col_double(),
##   par4.birdiepct = col_double(),
##   par5.birdiepct = col_double(),
##   moneypct = col_double(),
##   country = col_character(),
##   label = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(pga)</code></pre></div>
<pre><code>## # A tibble: 6 x 53
##   drivepct fairways.hit possible.fairwa~  year name  driveavg total.distance
##      &lt;dbl&gt;        &lt;int&gt;            &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;dbl&gt;          &lt;int&gt;
## 1     77.2         1031             1335  2004 Fred~     272.          52198
## 2     77.1          978             1268  2004 Scot~     278           50314
## 3     76.2          881             1157  2004 Crai~     271.          44959
## 4     75.1          886             1180  2004 Joe ~     287.          48829
## 5     74.7          861             1153  2004 Tom ~     273.          45246
## 6     74.3          664              894  2004 Jose~     279.          35479
## # ... with 46 more variables: total.drives &lt;int&gt;, rounds &lt;int&gt;, girpct &lt;dbl&gt;,
## #   greens.hit &lt;int&gt;, total.holes &lt;int&gt;, goforgreenpct &lt;dbl&gt;,
## #   goforgreen.attempts &lt;int&gt;, goforgreen.noattempts &lt;int&gt;, sandsavepct &lt;dbl&gt;,
## #   total.sandsaves &lt;int&gt;, total.bunkers &lt;int&gt;, scramblingpct &lt;dbl&gt;,
## #   parorbetter &lt;int&gt;, missedgir &lt;int&gt;, threeputtpct &lt;dbl&gt;,
## #   threeputt.total &lt;int&gt;, oneputtpct &lt;dbl&gt;, oneputt.total &lt;int&gt;,
## #   putts.avg &lt;dbl&gt;, total.putts &lt;int&gt;, rounds1 &lt;int&gt;, birdiepct &lt;dbl&gt;,
## #   total.birdies &lt;int&gt;, score.avg &lt;dbl&gt;, strokes &lt;int&gt;,
## #   birdiebogieratio &lt;dbl&gt;, total.birdies.better &lt;int&gt;,
## #   total.bogeys.worse &lt;int&gt;, par3.birdiepct &lt;dbl&gt;, par3.birdies.better &lt;int&gt;,
## #   par3.holes &lt;int&gt;, par4.birdiepct &lt;dbl&gt;, par4.birdies.better &lt;int&gt;,
## #   par4.holes &lt;int&gt;, par5.birdiepct &lt;dbl&gt;, par5.birdies.better &lt;int&gt;,
## #   par5.holes &lt;int&gt;, total.events &lt;int&gt;, top10s &lt;int&gt;, firsts &lt;int&gt;,
## #   seconds &lt;int&gt;, thirds &lt;int&gt;, moneypct &lt;dbl&gt;, totalmoney &lt;int&gt;,
## #   country &lt;chr&gt;, label &lt;chr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(pga)</code></pre></div>
<pre><code>##  [1] &quot;drivepct&quot;              &quot;fairways.hit&quot;          &quot;possible.fairways&quot;    
##  [4] &quot;year&quot;                  &quot;name&quot;                  &quot;driveavg&quot;             
##  [7] &quot;total.distance&quot;        &quot;total.drives&quot;          &quot;rounds&quot;               
## [10] &quot;girpct&quot;                &quot;greens.hit&quot;            &quot;total.holes&quot;          
## [13] &quot;goforgreenpct&quot;         &quot;goforgreen.attempts&quot;   &quot;goforgreen.noattempts&quot;
## [16] &quot;sandsavepct&quot;           &quot;total.sandsaves&quot;       &quot;total.bunkers&quot;        
## [19] &quot;scramblingpct&quot;         &quot;parorbetter&quot;           &quot;missedgir&quot;            
## [22] &quot;threeputtpct&quot;          &quot;threeputt.total&quot;       &quot;oneputtpct&quot;           
## [25] &quot;oneputt.total&quot;         &quot;putts.avg&quot;             &quot;total.putts&quot;          
## [28] &quot;rounds1&quot;               &quot;birdiepct&quot;             &quot;total.birdies&quot;        
## [31] &quot;score.avg&quot;             &quot;strokes&quot;               &quot;birdiebogieratio&quot;     
## [34] &quot;total.birdies.better&quot;  &quot;total.bogeys.worse&quot;    &quot;par3.birdiepct&quot;       
## [37] &quot;par3.birdies.better&quot;   &quot;par3.holes&quot;            &quot;par4.birdiepct&quot;       
## [40] &quot;par4.birdies.better&quot;   &quot;par4.holes&quot;            &quot;par5.birdiepct&quot;       
## [43] &quot;par5.birdies.better&quot;   &quot;par5.holes&quot;            &quot;total.events&quot;         
## [46] &quot;top10s&quot;                &quot;firsts&quot;                &quot;seconds&quot;              
## [49] &quot;thirds&quot;                &quot;moneypct&quot;              &quot;totalmoney&quot;           
## [52] &quot;country&quot;               &quot;label&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(pga$year)</code></pre></div>
<pre><code>## 
## 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 
##  195  201  195  195  195  183  191  185  190  179  176  184</code></pre>
<p>let's pick out name, year, total.holes, total.putts, score.avg columns and save as pga1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga %&gt;%<span class="st"> </span><span class="kw">select</span>(name, year, total.holes, total.putts, score.avg) </code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1 Fred Funk       2004        1728        2774      70.4
##  2 Scott Verplank  2004        1638        2619      69.9
##  3 Craig Bowden    2004        1494        2401      71.5
##  4 Joe Durant      2004        1530        2563      70.7
##  5 Tom Byrum       2004        1494        2380      70.5
##  6 Jose Coceres    2004        1152        1819      71.0
##  7 Bart Bryant     2004        1242        2041      70.5
##  8 Olin Browne     2004        1584        2580      71.3
##  9 John Cook       2004         954        1550      71.7
## 10 Omar Uresti     2004        1530        2470      71.7
## # ... with 2,259 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga1 &lt;-<span class="st"> </span>pga %&gt;%<span class="st"> </span><span class="kw">select</span>(name, year, total.holes, total.putts, score.avg)  </code></pre></div>
<p>Here we can sort a column using arrange(). There are many ways you can arrange your data.</p>
<p>sorts data in ascending order</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga1 %&gt;%<span class="st"> </span><span class="kw">arrange</span>(score.avg)  </code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1 Tiger Woods     2007        1080        1736      67.8
##  2 Tiger Woods     2009        1116        1763      68.1
##  3 Tiger Woods     2006         936        1528      68.1
##  4 Tiger Woods     2005        1332        2124      68.7
##  5 Rory McIlroy    2014        1152        1830      68.8
##  6 Vijay Singh     2004        1980        3216      68.8
##  7 Luke Donald     2011        1206        1878      68.9
##  8 Jim Furyk       2006        1584        2539      68.9
##  9 Rory McIlroy    2012         972        1551      68.9
## 10 Steve Stricker  2013         846        1348      68.9
## # ... with 2,259 more rows</code></pre>
<p>sorts data in descending order</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga1 %&gt;%<span class="st"> </span><span class="kw">arrange</span>(-score.avg)  </code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name              year total.holes total.putts score.avg
##    &lt;chr&gt;            &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1 David Gossett     2004        1026        1693      75.0
##  2 Kevin Muncrief    2004         900        1490      73.5
##  3 Chris Couch       2004         990        1635      73.5
##  4 Hidemichi Tanaka  2006        1314        2136      73.5
##  5 David Duval       2008         918        1497      73.2
##  6 Brad Faxon        2010         972        1567      73.1
##  7 Eric Axley        2009        1206        1916      73.1
##  8 Hirofumi Miyase   2004        1134        1857      73.1
##  9 Greg Kraft        2010         828        1370      73.1
## 10 Stephen Gangluff  2012         918        1507      73.0
## # ... with 2,259 more rows</code></pre>
<p>sorts data in ascending alphabetical order</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga1 %&gt;%<span class="st"> </span><span class="kw">arrange</span>(name) </code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1 Aaron Baddeley  2004        1530        2411      71.6
##  2 Aaron Baddeley  2005        1476        2303      71.3
##  3 Aaron Baddeley  2006        1368        2125      71.2
##  4 Aaron Baddeley  2007        1440        2261      70.1
##  5 Aaron Baddeley  2008        1314        2072      70.2
##  6 Aaron Baddeley  2009        1170        1826      71.2
##  7 Aaron Baddeley  2010        1692        2686      71.0
##  8 Aaron Baddeley  2011        1350        2129      70.2
##  9 Aaron Baddeley  2012        1296        2021      71.1
## 10 Aaron Baddeley  2013        1188        1835      71.5
## # ... with 2,259 more rows</code></pre>
<p>sorts data first by year, then by score</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga1 %&gt;%<span class="st"> </span><span class="kw">arrange</span>(year, score.avg)  </code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1 Vijay Singh     2004        1980        3216      68.8
##  2 Ernie Els       2004        1044        1653      69.0
##  3 Tiger Woods     2004        1296        2048      69.0
##  4 Phil Mickelson  2004        1422        2287      69.2
##  5 Retief Goosen   2004         990        1580      69.3
##  6 Sergio Garcia   2004        1152        1919      69.8
##  7 Stewart Cink    2004        1746        2731      69.8
##  8 Stephen Ames    2004        1710        2756      69.9
##  9 Scott Verplank  2004        1638        2619      69.9
## 10 David Toms      2004        1332        2174      70.0
## # ... with 2,259 more rows</code></pre>
<p>You can use the pipe, <code>%&gt;%</code>, in <code>tidyverse</code> to run multiple commands at once.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pga %&gt;%
<span class="st">  </span><span class="kw">select</span>(name, year, total.holes, total.putts, score.avg)  %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">putt.avg =</span> total.putts /<span class="st"> </span>total.holes) %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(putt.avg)</code></pre></div>
<pre><code>## # A tibble: 2,269 x 6
##    name            year total.holes total.putts score.avg putt.avg
##    &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 Brian Gay       2013        1422        2173      71.2     1.53
##  2 Kevin Na        2011        1512        2331      70.4     1.54
##  3 Greg Chalmers   2011        1548        2388      70.6     1.54
##  4 Justin Leonard  2014        1350        2083      70.9     1.54
##  5 Steve Stricker  2005        1116        1723      71.1     1.54
##  6 Aaron Baddeley  2013        1188        1835      71.5     1.54
##  7 Jordan Spieth   2015        1584        2448      68.9     1.55
##  8 Jordan Spieth   2014        1764        2730      69.9     1.55
##  9 Tim Clark       2007        1152        1784      69.9     1.55
## 10 Jonas Blixt     2012        1260        1952      70.2     1.55
## # ... with 2,259 more rows</code></pre>
</div>
<div id="wide-vs-long-data" class="section level2">
<h2><span class="header-section-number">4.7</span> Wide vs Long Data</h2>
<p>Sometimes you will need to rearrange your data for some data analysis and more commonly for data visualization.</p>
<p><code>tidyverse</code> has built in functions that can turn your dataframe from long format to wide format and vice versa.</p>
<p><code>pivot_longer</code> makes the dataframes longer by increasing the number of rows by combing the number of columns. This is called long form data, which is needed to tidy data for graphing and some analysis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wheel &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/wheels1.csv&quot;</span>)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   strain = col_character(),
##   id = col_character(),
##   day1 = col_double(),
##   day2 = col_double(),
##   day3 = col_double(),
##   day4 = col_double(),
##   dob = col_character(),
##   mother = col_character(),
##   sex = col_character(),
##   wheel = col_integer(),
##   startdate = col_character(),
##   total = col_double(),
##   age = col_integer(),
##   group = col_character()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(wheel)</code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   strain id      day1  day2   day3   day4 dob   mother sex   wheel startdate
##   &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;int&gt; &lt;chr&gt;    
## 1 B6     692ao 12853  8156.  9028. 12516. 4/18~ 633ax  male      9 10/9/2005
## 2 B6     656aa  2644  4012.  5237   7404. 12/1~ 593ar  male      1 9/12/2005
## 3 B6     675ag  4004. 3054.  3816.  3761  2/9/~ 593ad  male      5 10/13/20~
## 4 B6     675ai 11754. 8863  11784  11684  2/9/~ 593ad  male      4 10/13/20~
## 5 B6     656af  6906. 5322. 10424.  8468. 12/1~ 593ar  male      2 10/13/20~
## 6 B6     656al  6517  4440   5334.  9291  12/1~ 554aa  male      8 10/9/2005
## # ... with 3 more variables: total &lt;dbl&gt;, age &lt;int&gt;, group &lt;chr&gt;</code></pre>
<p>Here we can make the wheel data into long form, by combining day1, day2, day3, and day4 into 2 columns one called day and another called distance.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wheel_long &lt;-wheel %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">pivot_longer</span>(
  <span class="dt">cols =</span> <span class="kw">starts_with</span>(<span class="st">&quot;day&quot;</span>),
  <span class="dt">names_to =</span> <span class="st">&quot;day&quot;</span>,
  <span class="dt">values_to =</span> <span class="st">&quot;distance&quot;</span>
)

<span class="kw">head</span>(wheel_long)</code></pre></div>
<pre><code>## # A tibble: 6 x 12
##   strain id    dob   mother sex   wheel startdate  total   age group day  
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
## 1 B6     692ao 4/18~ 633ax  male      9 10/9/2005 42552.   174 inbr~ day1 
## 2 B6     692ao 4/18~ 633ax  male      9 10/9/2005 42552.   174 inbr~ day2 
## 3 B6     692ao 4/18~ 633ax  male      9 10/9/2005 42552.   174 inbr~ day3 
## 4 B6     692ao 4/18~ 633ax  male      9 10/9/2005 42552.   174 inbr~ day4 
## 5 B6     656aa 12/1~ 593ar  male      1 9/12/2005 19297    270 inbr~ day1 
## 6 B6     656aa 12/1~ 593ar  male      1 9/12/2005 19297    270 inbr~ day2 
## # ... with 1 more variable: distance &lt;dbl&gt;</code></pre>
<p>Other ways to do this.</p>
<p><code>pivot_wider()</code> makes the dataframes longer by decreasing the number of rows by separating the number of columns. This is called wide form data, which id usefull for summarying data in tables and using some functions in R.</p>
<p>Now let's make the dataframe wide again.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wheel_long %&gt;%<span class="st"> </span><span class="kw">pivot_wider</span>(
  <span class="dt">names_from =</span> day,
  <span class="dt">values_from =</span> distance
)</code></pre></div>
<pre><code>## # A tibble: 80 x 14
##    strain id    dob   mother sex   wheel startdate  total   age group   day1
##    &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1 B6     692ao 4/18~ 633ax  male      9 10/9/2005 42552.   174 inbr~ 12853 
##  2 B6     656aa 12/1~ 593ar  male      1 9/12/2005 19297    270 inbr~  2644 
##  3 B6     675ag 2/9/~ 593ad  male      5 10/13/20~ 14634.   246 inbr~  4004.
##  4 B6     675ai 2/9/~ 593ad  male      4 10/13/20~ 44086.   246 inbr~ 11754.
##  5 B6     656af 12/1~ 593ar  male      2 10/13/20~ 31122    301 inbr~  6906.
##  6 B6     656al 12/1~ 554aa  male      8 10/9/2005 25582.   294 inbr~  6517 
##  7 B6     692an 4/18~ 633ax  male      1 10/25/20~ 45352    190 inbr~ 11366.
##  8 B6     705ab 7/25~ 675aj  male      7 10/25/20~ 51766     92 inbr~ 13794.
##  9 B6     692at 4/20~ 633ba  male      1 10/13/20~ 54777    176 inbr~ 10486.
## 10 B6     692au 4/20~ 633ak  male      2 10/25/20~ 31062.   188 inbr~  4592.
## # ... with 70 more rows, and 3 more variables: day2 &lt;dbl&gt;, day3 &lt;dbl&gt;,
## #   day4 &lt;dbl&gt;</code></pre>
</div>
<div id="joins" class="section level2">
<h2><span class="header-section-number">4.8</span> Joins</h2>
<p>When working with sometimes you need to join two different data sets, based on one or more variables.</p>
<p>Lets make up some data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;id&quot;</span> =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>, <span class="st">&quot;age&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">21</span>,<span class="dv">25</span>,<span class="dv">17</span>,<span class="dv">34</span>,<span class="dv">25</span>,<span class="dv">33</span>,<span class="dv">22</span>,<span class="dv">27</span>,<span class="dv">29</span>,<span class="dv">24</span>))

<span class="kw">head</span>(x)</code></pre></div>
<pre><code>##   id age
## 1  1  21
## 2  2  25
## 3  3  17
## 4  4  34
## 5  5  25
## 6  6  33</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;id&quot;</span> =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>, <span class="st">&quot;height_cm&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">156</span>, <span class="dv">155</span>, <span class="dv">154</span>, <span class="dv">149</span>, <span class="dv">153</span>, <span class="dv">152</span>, <span class="dv">151</span>, <span class="dv">150</span>, <span class="dv">147</span>, <span class="dv">155</span>), <span class="st">&quot;activity_hr&quot;</span>=<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="st">&quot;work_hr&quot;</span> =<span class="kw">c</span>(<span class="dv">40</span>,<span class="dv">35</span>,<span class="dv">38</span>,<span class="dv">46</span>,<span class="dv">50</span>,<span class="dv">42</span>,<span class="dv">40</span>,<span class="dv">46</span>,<span class="dv">41</span>,<span class="dv">40</span>))

<span class="kw">head</span>(y)</code></pre></div>
<pre><code>##   id height_cm activity_hr work_hr
## 1  1       156           3      40
## 2  2       155           5      35
## 3  3       154           3      38
## 4  4       149           6      46
## 5  5       153           7      50
## 6  6       152           4      42</code></pre>
<p><code>full_join()</code> joins 2 different dataframes based on one or more shared variable(s). The following will join based on id.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">full_join</span>(y)</code></pre></div>
<pre><code>## Joining, by = &quot;id&quot;</code></pre>
<pre><code>##    id age height_cm activity_hr work_hr
## 1   1  21       156           3      40
## 2   2  25       155           5      35
## 3   3  17       154           3      38
## 4   4  34       149           6      46
## 5   5  25       153           7      50
## 6   6  33       152           4      42
## 7   7  22       151           2      40
## 8   8  27       150           8      46
## 9   9  29       147           4      41
## 10 10  24       155           5      40</code></pre>
<p>Save as a new data frame to use again:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">new &lt;-<span class="st"> </span>x %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">full_join</span>(y)</code></pre></div>
<pre><code>## Joining, by = &quot;id&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(new)</code></pre></div>
<pre><code>##   id age height_cm activity_hr work_hr
## 1  1  21       156           3      40
## 2  2  25       155           5      35
## 3  3  17       154           3      38
## 4  4  34       149           6      46
## 5  5  25       153           7      50
## 6  6  33       152           4      42</code></pre>
<p><code>left_join</code></p>
<p><code>right_join</code></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-syntax.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
