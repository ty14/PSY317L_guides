<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Introduction to Data Carpentry | PSY317L Guides</title>
  <meta name="description" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Introduction to Data Carpentry | PSY317L Guides" />
  
  
  

<meta name="author" content="James P. Curley &amp; Tyler M. Milewski" />


<meta name="date" content="2020-06-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-syntax.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to PSY317!</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-this-book-includes-and-what-it-doesnt"><i class="fa fa-check"></i><b>1.1</b> What this book includes and what it doesn’t</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.2</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.3</b> References</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#other-places-to-find-help-about-r"><i class="fa fa-check"></i><b>1.4</b> Other places to find help about R</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#other-places-to-find-help-about-r-and-statistics"><i class="fa fa-check"></i><b>1.5</b> Other places to find help about R and Statistics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#downloading-r"><i class="fa fa-check"></i><b>2.2</b> Downloading R</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#downloading-rstudio"><i class="fa fa-check"></i><b>2.3</b> Downloading RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#using-rcloud-instead-of-rstudio"><i class="fa fa-check"></i><b>2.4</b> Using RCloud instead of RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#importing-data"><i class="fa fa-check"></i><b>2.5</b> Importing Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-syntax.html"><a href="basic-syntax.html"><i class="fa fa-check"></i><b>3</b> Basic Syntax</a><ul>
<li class="chapter" data-level="3.1" data-path="basic-syntax.html"><a href="basic-syntax.html#boring-mathematical-stuff"><i class="fa fa-check"></i><b>3.1</b> boring mathematical stuff</a></li>
<li class="chapter" data-level="3.2" data-path="basic-syntax.html"><a href="basic-syntax.html#assignment"><i class="fa fa-check"></i><b>3.2</b> assignment</a></li>
<li class="chapter" data-level="3.3" data-path="basic-syntax.html"><a href="basic-syntax.html#vectors"><i class="fa fa-check"></i><b>3.3</b> vectors</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html"><i class="fa fa-check"></i><b>4</b> Introduction to Data Carpentry</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#tidyverse"><i class="fa fa-check"></i><b>4.1</b> tidyverse</a></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#filter"><i class="fa fa-check"></i><b>4.2</b> filter()</a></li>
<li class="chapter" data-level="4.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#select"><i class="fa fa-check"></i><b>4.3</b> select()</a></li>
<li class="chapter" data-level="4.4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#arrange"><i class="fa fa-check"></i><b>4.4</b> arrange()</a></li>
<li class="chapter" data-level="4.5" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#mutate"><i class="fa fa-check"></i><b>4.5</b> mutate()</a></li>
<li class="chapter" data-level="4.6" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#wide-vs-long-data"><i class="fa fa-check"></i><b>4.6</b> Wide vs Long Data</a></li>
<li class="chapter" data-level="4.7" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#joins"><i class="fa fa-check"></i><b>4.7</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> Data Visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#histogram"><i class="fa fa-check"></i><b>5.1</b> Histogram</a></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#scatter"><i class="fa fa-check"></i><b>5.2</b> Scatter</a></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#boxplot"><i class="fa fa-check"></i><b>5.3</b> Boxplot</a></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#adding-details"><i class="fa fa-check"></i><b>5.4</b> Adding details</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="descriptives.html"><a href="descriptives.html"><i class="fa fa-check"></i><b>6</b> Descriptives</a><ul>
<li class="chapter" data-level="6.1" data-path="descriptives.html"><a href="descriptives.html#mean-median-and-standard-deviation"><i class="fa fa-check"></i><b>6.1</b> Mean, Median, and Standard Deviation</a></li>
<li class="chapter" data-level="6.2" data-path="descriptives.html"><a href="descriptives.html#other-descriptives"><i class="fa fa-check"></i><b>6.2</b> Other descriptives</a></li>
<li class="chapter" data-level="6.3" data-path="descriptives.html"><a href="descriptives.html#inter-quartile-ranges"><i class="fa fa-check"></i><b>6.3</b> Inter-quartile Ranges</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>7</b> Distributions</a></li>
<li class="chapter" data-level="8" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>8</b> Confidence Intervals</a></li>
<li class="chapter" data-level="9" data-path="inferential-stats.html"><a href="inferential-stats.html"><i class="fa fa-check"></i><b>9</b> Inferential Stats</a><ul>
<li class="chapter" data-level="9.1" data-path="inferential-stats.html"><a href="inferential-stats.html#comparing-two-samples"><i class="fa fa-check"></i><b>9.1</b> Comparing two Samples</a></li>
<li class="chapter" data-level="9.2" data-path="inferential-stats.html"><a href="inferential-stats.html#independent-samples-t-test"><i class="fa fa-check"></i><b>9.2</b> Independent Samples t-test</a></li>
<li class="chapter" data-level="9.3" data-path="inferential-stats.html"><a href="inferential-stats.html#background-to-students-2-sample-t-test"><i class="fa fa-check"></i><b>9.3</b> Background to Student’s 2 Sample t-test</a></li>
<li class="chapter" data-level="9.4" data-path="inferential-stats.html"><a href="inferential-stats.html#sampling-distribution-of-the-difference-in-sample-means"><i class="fa fa-check"></i><b>9.4</b> Sampling Distribution of the Difference in Sample Means</a></li>
<li class="chapter" data-level="9.5" data-path="inferential-stats.html"><a href="inferential-stats.html#pooled-standard-deviation"><i class="fa fa-check"></i><b>9.5</b> Pooled Standard Deviation</a></li>
<li class="chapter" data-level="9.6" data-path="inferential-stats.html"><a href="inferential-stats.html#confidence-interval-for-difference-in-means"><i class="fa fa-check"></i><b>9.6</b> Confidence Interval for Difference in Means</a></li>
<li class="chapter" data-level="9.7" data-path="inferential-stats.html"><a href="inferential-stats.html#conducting-student-t-test"><i class="fa fa-check"></i><b>9.7</b> Conducting Student t-test</a></li>
<li class="chapter" data-level="9.8" data-path="inferential-stats.html"><a href="inferential-stats.html#doing-student-t-test-in-r"><i class="fa fa-check"></i><b>9.8</b> Doing Student t-test in R</a></li>
<li class="chapter" data-level="9.9" data-path="inferential-stats.html"><a href="inferential-stats.html#effect-sizes"><i class="fa fa-check"></i><b>9.9</b> Effect Sizes</a></li>
<li class="chapter" data-level="9.10" data-path="inferential-stats.html"><a href="inferential-stats.html#paired-t-tests"><i class="fa fa-check"></i><b>9.10</b> Paired t-tests</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>10</b> Correlation</a><ul>
<li class="chapter" data-level="10.1" data-path="correlation.html"><a href="correlation.html#pearson-correlation"><i class="fa fa-check"></i><b>10.1</b> Pearson Correlation</a></li>
<li class="chapter" data-level="10.2" data-path="correlation.html"><a href="correlation.html#calculating-the-pearson-correlation-in-r"><i class="fa fa-check"></i><b>10.2</b> Calculating the Pearson Correlation in R</a></li>
<li class="chapter" data-level="10.3" data-path="correlation.html"><a href="correlation.html#cross-products"><i class="fa fa-check"></i><b>10.3</b> Cross-products</a></li>
<li class="chapter" data-level="10.4" data-path="correlation.html"><a href="correlation.html#conducting-a-pearson-correlation-test"><i class="fa fa-check"></i><b>10.4</b> Conducting a Pearson Correlation Test</a></li>
<li class="chapter" data-level="10.5" data-path="correlation.html"><a href="correlation.html#assumptions-of-pearsons-correlation"><i class="fa fa-check"></i><b>10.5</b> Assumptions of Pearson’s Correlation</a></li>
<li class="chapter" data-level="10.6" data-path="correlation.html"><a href="correlation.html#confidence-intervals-for-r"><i class="fa fa-check"></i><b>10.6</b> Confidence Intervals for R</a></li>
<li class="chapter" data-level="10.7" data-path="correlation.html"><a href="correlation.html#partial-correlations"><i class="fa fa-check"></i><b>10.7</b> Partial Correlations</a></li>
<li class="chapter" data-level="10.8" data-path="correlation.html"><a href="correlation.html#non-parametric-correlations"><i class="fa fa-check"></i><b>10.8</b> Non-parametric Correlations</a></li>
<li class="chapter" data-level="10.9" data-path="correlation.html"><a href="correlation.html#point-biserial-correlation"><i class="fa fa-check"></i><b>10.9</b> Point-Biserial Correlation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>11</b> Regression</a></li>
<li class="chapter" data-level="12" data-path="permutation-testing.html"><a href="permutation-testing.html"><i class="fa fa-check"></i><b>12</b> Permutation Testing</a><ul>
<li class="chapter" data-level="12.1" data-path="permutation-testing.html"><a href="permutation-testing.html#t-test-permutation"><i class="fa fa-check"></i><b>12.1</b> t-test Permutation</a><ul>
<li class="chapter" data-level="12.1.1" data-path="permutation-testing.html"><a href="permutation-testing.html#example-2"><i class="fa fa-check"></i><b>12.1.1</b> Example 2:</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="permutation-testing.html"><a href="permutation-testing.html#correlation-coefficient-permutation-tests"><i class="fa fa-check"></i><b>12.2</b> Correlation Coefficient Permutation Tests</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSY317L Guides</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-data-carpentry" class="section level1">
<h1><span class="header-section-number">4</span> Introduction to Data Carpentry</h1>
<p>Data carpentry gives us the tools to work with large data sets. During this chapter you will learn basic concepts, skills to help you work with functions to help tidy and manage your data.</p>
<p>check check</p>
<div id="tidyverse" class="section level2">
<h2><span class="header-section-number">4.1</span> tidyverse</h2>
<p>The package <code>tidyverse</code> is what we will be using for most of our data carpentry. <code>tidyverse</code> is a larger package which includes several packages useful for dealing with data such as <code>tidyr</code>, <code>dplyr</code>, <code>ggplot2</code>, and more.</p>
<p>All of these packages work together to manipulate, reshape, and visual data.</p>
<p>Before using <code>tidyverse</code> you will need to install and load the package.</p>
<p>You will only need to install a package once, but will have to load a library on every script you plan to use it.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">install.package</span>(tidyverse) <span class="co">#install</span></a></code></pre></div>
<p>From the <code>tidyverse</code> package <code>rread</code> we can read in our data.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">library</span>(tidyverse) <span class="co">#load</span></a></code></pre></div>
<pre><code>## -- Attaching packages ---------------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.3
## v tibble  3.0.0     v dplyr   0.8.5
## v tidyr   1.0.2     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/bloodwork.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   ids = col_character(),
##   age = col_double(),
##   sex = col_character(),
##   state = col_character(),
##   children = col_double(),
##   smoker = col_character(),
##   hrate = col_double(),
##   bpsyst = col_double(),
##   cellcount = col_double(),
##   immuncount = col_double(),
##   immuncount2 = col_double()
## )</code></pre>
<p>df is the name of our new dataframe, which will include all data from the bloodwork.csv file.</p>
<p>Before we can work with our data we need to what we have to work with using the functions <code>head()</code> and <code>tail()</code> allows you to see the first and last 6 rows, respectfully.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
## 2 GBH      20 male  NY           1 yes       73    120     0.169      1.18 
## 3 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
## 4 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
## 5 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
## 6 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">tail</span>(df)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 JIB      66 fema~ NY           0 no        62    121     0.097      1.39 
## 2 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 3 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 4 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## 5 HHJ      69 male  CT           2 no        71    121     0.475      0.463
## 6 CCG      70 male  CT           0 yes       80    132     0.078      1.06 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>should we explain the dataset?? idk</p>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">4.2</span> filter()</h2>
<p>Use %&gt;% and ‘filter’ to only keep rows where the hrate, heart rate, is over 85. &gt; means greater than.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="st">  </span><span class="kw">filter</span>(hrate <span class="op">&gt;</span><span class="st"> </span><span class="dv">85</span>)</a></code></pre></div>
<pre><code>## # A tibble: 0 x 11
## # ... with 11 variables: ids &lt;chr&gt;, age &lt;dbl&gt;, sex &lt;chr&gt;, state &lt;chr&gt;,
## #   children &lt;dbl&gt;, smoker &lt;chr&gt;, hrate &lt;dbl&gt;, bpsyst &lt;dbl&gt;, cellcount &lt;dbl&gt;,
## #   immuncount &lt;dbl&gt;, immuncount2 &lt;dbl&gt;</code></pre>
<p>Or use %&gt;% and ‘filter’ to only keep rows where the sex is equal to female.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="st">  </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;female&quot;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 18 x 11
##    ids     age sex   state children smoker hrate bpsyst cellcount immuncount
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63    101     0.126      0.993
##  2 EDH      21 fema~ NJ           0 no        65    100     0.281      4.34 
##  3 AAA      21 fema~ CT           3 no        66    109     0.244      2.56 
##  4 AJF      24 fema~ NJ           0 no        67    108     0.092      6.45 
##  5 FJC      25 fema~ NY           1 yes       80    118     0.014      3.97 
##  6 IEE      26 fema~ NY           2 no        71    118     0.093      5.41 
##  7 BED      28 fema~ CT           0 no        62    104     0.082      1.18 
##  8 BFB      28 fema~ NJ           0 no        68    118     0.197      0.724
##  9 IEA      29 fema~ CT           0 yes       74    117     0.429      5.15 
## 10 CDC      38 fema~ NJ           0 no        66    133     0.038      8.00 
## 11 FJG      40 fema~ NJ           0 yes       80    109     0.253      5.63 
## 12 DAG      41 fema~ CT           0 yes       70    142     0.339      5.52 
## 13 FHA      53 fema~ CT           2 no        77    125     0.099      0.034
## 14 JHC      55 fema~ CT           0 no        73    121     0.093      1.32 
## 15 JIB      66 fema~ NY           0 no        62    121     0.097      1.39 
## 16 HBB      67 fema~ NJ           1 yes       74    147     0.288      2.27 
## 17 HDG      68 fema~ NY           3 yes       65    129     0.11       2.65 
## 18 ECD      68 fema~ NJ           2 yes       77    129     0.404      2.02 
## # ... with 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>You can create new datasets from filtered data.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">female &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="st">  </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;female&quot;</span>)</a></code></pre></div>
</div>
<div id="select" class="section level2">
<h2><span class="header-section-number">4.3</span> select()</h2>
<p>Use %&gt;% then <code>select</code> to just select the rows you want.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">df <span class="op">%&gt;%</span><span class="st">  </span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="st">  </span><span class="kw">select</span>(ids, sex, smoker,hrate)</a></code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    ids   sex    smoker hrate
##    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;
##  1 JEC   female no        63
##  2 GBH   male   yes       73
##  3 EDH   female no        65
##  4 AAA   female no        66
##  5 AJF   female no        67
##  6 FJC   female yes       80
##  7 IEE   female no        71
##  8 BED   female no        62
##  9 BFB   female no        68
## 10 IEA   female yes       74
## # ... with 20 more rows</code></pre>
<p>Or if you just want to get rid of one column you can just use %&gt;% then <code>select(-var)</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>bpsyst)</a></code></pre></div>
<pre><code>## # A tibble: 30 x 10
##    ids     age sex   state children smoker hrate cellcount immuncount
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19 fema~ NJ           1 no        63     0.126      0.993
##  2 GBH      20 male  NY           1 yes       73     0.169      1.18 
##  3 EDH      21 fema~ NJ           0 no        65     0.281      4.34 
##  4 AAA      21 fema~ CT           3 no        66     0.244      2.56 
##  5 AJF      24 fema~ NJ           0 no        67     0.092      6.45 
##  6 FJC      25 fema~ NY           1 yes       80     0.014      3.97 
##  7 IEE      26 fema~ NY           2 no        71     0.093      5.41 
##  8 BED      28 fema~ CT           0 no        62     0.082      1.18 
##  9 BFB      28 fema~ NJ           0 no        68     0.197      0.724
## 10 IEA      29 fema~ CT           0 yes       74     0.429      5.15 
## # ... with 20 more rows, and 1 more variable: immuncount2 &lt;dbl&gt;</code></pre>
<p>if you want these selections to be permanent then you need to rewrite selections in new dataframe.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">df1 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>bpsyst)</a></code></pre></div>
</div>
<div id="arrange" class="section level2">
<h2><span class="header-section-number">4.4</span> arrange()</h2>
<p>blah</p>
</div>
<div id="mutate" class="section level2">
<h2><span class="header-section-number">4.5</span> mutate()</h2>
<p>Create new columns using %&gt;% then <code>mutate</code></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">df2 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">totalimmune =</span> immuncount <span class="op">+</span><span class="st"> </span>immuncount2)</a></code></pre></div>
<p>Now df2 will have 12 columns, instead of 11.</p>
</div>
<div id="wide-vs-long-data" class="section level2">
<h2><span class="header-section-number">4.6</span> Wide vs Long Data</h2>
<p>blah</p>
<p><code>pivot_wide()</code> <code>pivot_long()</code></p>
</div>
<div id="joins" class="section level2">
<h2><span class="header-section-number">4.7</span> Joins</h2>
<p>really important…. maybe one day we’ll write about this</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-syntax.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
